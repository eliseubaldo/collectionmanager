<div class="container">
	<div layout="row" layout-padding>
		<div flex-sm="60" flex-gt-sm="80">
			<h2>Categories</h2>
		</div>		
	</div>


	

			<form name="categoryForm" ng-submit="submitForm(category)" accept-charset="utf-8" novalidate>

				<div layout="row" layout-sm="column" layout-xs="column" layout-padding>		

					<div flex-sm="100" flex-gt-sm="50">
						<md-input-container class="md-block flex-gt-sm">
						  <label>Select Collection</label>
					        <md-select ng-model="collection" required ng-change="setCollection(collection)">
					          <md-option ng-repeat="collection in collectionList" value="{{collection}}">{{collection.collection_name}}</md-option>
					        </md-select>
					     

						</md-input-container>
					</div>
					<div flex-sm="100" flex-gt-sm="20" ng-show="currCollection.collection_id">
						<md-button class="md-raised md-accent" ng-click="newitem = true">Add new category</md-button>
					</div>		
				</div>

				<div layout="row" layout-sm="column" layout-xs="column" ng-show="newitem" layout-padding> 		
					<div flex-sm="100" flex-gt-sm="50">
						<md-input-container class="md-block flex-gt-sm">
							<label>Enter category name</label>	
							<input type="text" ng-model="category.name" required ng-pattern="/^[a-z0-9-]+$/i">
							<div ng-messages="category.name.$error">
				      			<div ng-message="required">Category is required!</div>
				      			<div ng-message="pattern">Accept only letters, numbers and -</div>
				    		</div>
						</md-input-container>
					</div>


					<div flex-sm="100" flex-gt-sm="50">
						<md-input-container class="md-block flex-gt-sm">
							<label>Enter category year</label>	
							<input type="text" ng-model="category.year">						
						</md-input-container>
					</div>		    	
				</div>

				<div layout="row" layout-sm="column" layout-xs="column" ng-show="newitem" layout-padding>		
					<div flex-sm="50" flex-gt-sm="50">
						<md-button class="md-raised md-primary" type="submit" ng-disabled="categoryForm.$invalid">Save</md-button>	
					</div>
				</div>

				
			</form>


	
	<div layout="row" layout-padding>
	<div flex-sm="100" flex-gt-sm="100">	
		<div ng-if="currCollection.collection_id" class="topSpace">

			<h4>Categories in <strong>{{currCollection.collection_name}} </strong> collection</h4>
		<table class="table">
			<thead>
				<tr>
					<th>category year</th>
					<th>category name</th>
					<th>category id</th>

				</tr>
			</thead>
			<tbody>
				<tr ng-repeat="category in categoryList | filter:{collection_id: currCollection.collection_id} | orderBy: 'category_year'">
					<td>{{category.category_year}} </td>
					<td>{{category.category_name}} </td>
					<td>{{category.category_id}} </td>
				</tr>
			</tbody>
		</table>
			
		</div>
	</div>
	</div>
	

	


</div>

