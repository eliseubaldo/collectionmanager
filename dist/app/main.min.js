!function(){"user strict";angular.module("collectionApp",["ui.router","ngMaterial","ngFileUpload"]),angular.module("collectionApp").config(function(t,o){o.otherwise("/home"),t.state("home",{url:"/home",controller:"homeCtrl",templateUrl:"views/home.html"}),t.state("newcollection",{url:"/newcollection",controller:"newCollectionCtrl",templateUrl:"views/newcollection.html"}),t.state("addcategory",{url:"/addcategory",controller:"addCategoryCtrl",templateUrl:"views/addcategory.html"}),t.state("additem",{url:"/additem",controller:"addItemCtrl",templateUrl:"views/additem.html"})})}(),function(){"use strict";function t(t,o){function e(){o.updateList("category").then(function(o){t.categoryList=o.data})["catch"](function(t){alert("Error:",t.status,t.data)})}function c(){o.updateList("collection").then(function(o){t.collectionList=o.data})["catch"](function(t){alert("Error:",t.status,t.data)})}t.categoryList=[],t.collectionList=[],c(),e(),t.submitForm=function(c){if(t.categoryForm.$valid){var n={};n.name=c.name,n.year=c.year,n.collection=c.collection.collection_id,o.addCategory(n).then(function(o){t.categoryForm.$setPristine(),t.category=null,alert(o.data),e()})["catch"](function(t){alert("Error:",t.status,t.data)})}}}angular.module("collectionApp").controller("addCategoryCtrl",t),t.$inject=["$scope","ioService"]}(),function(){"use strict";function t(t,o,e,c){function n(){o.updateList("category").then(function(o){t.categoryList=o.data})["catch"](function(t){alert("Error:",t.status,t.data)})}function a(){o.updateList("collection").then(function(o){t.collectionList=o.data})["catch"](function(t){alert("Error:",t.status,t.data)})}t.categoryList=[],t.collectionList=[],a(),n(),t.submitForm=function(o){if(t.itemForm.$valid){var c={};c.name=o.name,c.desc=o.desc,c.category=o.category.category_id,e.upload({url:"backend/include.php?type=item",method:"POST",data:{file:t.item.picture,otherinfo:o}}).then(function(t){console.log("Success "+t.config.data.file.name+"uploaded. Response: "+t.data)},function(t){console.log("Error status: "+t.status)},function(t){var o=parseInt(100*t.loaded/t.total);console.log("progress: "+o+"% "+t.config.data.file.name)})}}}angular.module("collectionApp").controller("addItemCtrl",t),t.$inject=["$scope","ioService","Upload","$timeout"]}(),function(){"use strict";function t(t){}angular.module("collectionApp").controller("homeCtrl",t),t.$inject=["$scope"]}(),function(){"use strict";function t(t,o){function e(){o.updateList("collection").then(function(o){t.collectionList=o.data})["catch"](function(t){alert("Error:",t.status,t.data)})}t.collectionList=[],e(),t.submitForm=function(c){t.collectionForm.$valid&&(console.log(c),o.addCollection(c).then(function(o){t.collectionForm.$setPristine(),t.collection=null,alert(o.data),e()})["catch"](function(t){alert("Error:",t.status,t.data)}))}}angular.module("collectionApp").controller("newCollectionCtrl",t),t.$inject=["$scope","ioService"]}(),function(){"use strict";angular.module("collectionApp").factory("ioService",function(t){var o={};return o.addCollection=function(o){return console.log(o),t.post("backend/include.php?type=col",o)},o.addCategory=function(o){return console.log(o),t.post("backend/include.php?type=cat",o)},o.singleContact=function(o){return t.get("backend/getcontact.php?id="+o)},o.updateList=function(o){switch(o){case"collection":return t.get("backend/updatelist.php?type=col");case"category":return t.get("backend/updatelist.php?type=cat")}},o})}();